{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Documents/Attach/Web/React/viivakoodi/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport FinnishBankUtils from 'finnish-bank-utils'; // Make sure this import is correct\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction IbanForm() {\n  _s();\n  // Initialize states with empty values for user input\n  const [iban, setIban] = useState('');\n  const [sum, setSum] = useState('');\n  const [dueDate, setDueDate] = useState('');\n  const [validationState, setValidationState] = useState('');\n  const [barcode, setBarcode] = useState('');\n  const [error, setError] = useState('');\n  const barcodeRef = useRef(null);\n  const handleIbanChange = e => {\n    setIban(e.target.value);\n    setValidationState(''); // Reset validation state when the user changes the input\n    setError(''); // Clear any previous error\n  };\n\n  const validateAndGenerateBarcode = () => {\n    const isValidIban = FinnishBankUtils.isValidFinnishIBAN(iban);\n    setValidationState(isValidIban ? 'is-valid' : 'is-invalid');\n    if (!isValidIban) {\n      setError('Invalid IBAN');\n      return;\n    }\n    const parsedSum = parseFloat(sum);\n    if (isNaN(parsedSum)) {\n      setError('Invalid sum. Please provide a numeric value.');\n      return;\n    }\n\n    // Here you can define a hard-coded or randomly generated reference number\n    const referenceNumber = '55958 22432 94671'; // Example of a hard-coded valid reference number\n\n    // Generate barcode\n    try {\n      const generatedBarcode = FinnishBankUtils.formatFinnishVirtualBarCode({\n        iban: iban,\n        sum: parsedSum,\n        reference: referenceNumber,\n        // Using the hard-coded or randomly generated reference number here\n        date: dueDate\n      });\n      setBarcode(generatedBarcode);\n    } catch (error) {\n      console.error(\"Error generating barcode:\", error);\n      setError('There was an error generating the barcode. Please check your inputs and try again.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"ibanField\",\n        className: \"form-label\",\n        children: \"IBAN\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: `form-control ${validationState}`,\n        id: \"ibanField\",\n        value: iban,\n        onChange: handleIbanChange,\n        placeholder: \"Enter IBAN\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), validationState === 'is-invalid' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"invalid-feedback\",\n        children: \"Invalid IBAN.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 46\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"sumField\",\n        className: \"form-label\",\n        children: \"Sum\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        className: \"form-control\",\n        id: \"sumField\",\n        value: sum,\n        onChange: e => setSum(e.target.value),\n        placeholder: \"Enter Sum\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"dueDateField\",\n        className: \"form-label\",\n        children: \"Due Date (DD.MM.YYYY)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        id: \"dueDateField\",\n        value: dueDate,\n        onChange: e => setDueDate(e.target.value),\n        placeholder: \"Enter Due Date\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-3\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: validateAndGenerateBarcode,\n        children: \"Generate Barcode\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }, this), barcode && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-group mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        ref: barcodeRef,\n        value: barcode,\n        className: \"form-control\",\n        readOnly: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline-secondary\",\n        type: \"button\",\n        onClick: copyToClipboard,\n        children: \"Copy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(IbanForm, \"dPX9OUPb/qso0Xfr/esYd4Ab/3g=\");\n_c = IbanForm;\nexport default IbanForm;\nvar _c;\n$RefreshReg$(_c, \"IbanForm\");","map":{"version":3,"names":["React","useState","FinnishBankUtils","jsxDEV","_jsxDEV","IbanForm","_s","iban","setIban","sum","setSum","dueDate","setDueDate","validationState","setValidationState","barcode","setBarcode","error","setError","barcodeRef","useRef","handleIbanChange","e","target","value","validateAndGenerateBarcode","isValidIban","isValidFinnishIBAN","parsedSum","parseFloat","isNaN","referenceNumber","generatedBarcode","formatFinnishVirtualBarCode","reference","date","console","className","children","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","type","id","onChange","placeholder","onClick","role","ref","readOnly","copyToClipboard","_c","$RefreshReg$"],"sources":["/Users/admin/Documents/Attach/Web/React/viivakoodi/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport FinnishBankUtils from 'finnish-bank-utils'; // Make sure this import is correct\n\nfunction IbanForm() {\n  // Initialize states with empty values for user input\n  const [iban, setIban] = useState('');\n  const [sum, setSum] = useState('');\n  const [dueDate, setDueDate] = useState('');\n  const [validationState, setValidationState] = useState('');\n  const [barcode, setBarcode] = useState('');\n  const [error, setError] = useState('');\n  const barcodeRef = useRef(null);\n\n\n  const handleIbanChange = (e) => {\n    setIban(e.target.value);\n    setValidationState(''); // Reset validation state when the user changes the input\n    setError(''); // Clear any previous error\n  };\n\n  const validateAndGenerateBarcode = () => {\n    const isValidIban = FinnishBankUtils.isValidFinnishIBAN(iban);\n    setValidationState(isValidIban ? 'is-valid' : 'is-invalid');\n\n    if (!isValidIban) {\n      setError('Invalid IBAN');\n      return;\n    }\n\n    const parsedSum = parseFloat(sum);\n    if (isNaN(parsedSum)) {\n      setError('Invalid sum. Please provide a numeric value.');\n      return;\n    }\n\n    // Here you can define a hard-coded or randomly generated reference number\n    const referenceNumber = '55958 22432 94671'; // Example of a hard-coded valid reference number\n\n    // Generate barcode\n    try {\n      const generatedBarcode = FinnishBankUtils.formatFinnishVirtualBarCode({\n        iban: iban,\n        sum: parsedSum,\n        reference: referenceNumber, // Using the hard-coded or randomly generated reference number here\n        date: dueDate,\n      });\n      setBarcode(generatedBarcode);\n    } catch (error) {\n      console.error(\"Error generating barcode:\", error);\n      setError('There was an error generating the barcode. Please check your inputs and try again.');\n    }\n  };\n\n  return (\n    <div className=\"container mt-5\">\n      <div className=\"mb-3\">\n        <label htmlFor=\"ibanField\" className=\"form-label\">IBAN</label>\n        <input \n          type=\"text\"\n          className={`form-control ${validationState}`}\n          id=\"ibanField\"\n          value={iban}\n          onChange={handleIbanChange}\n          placeholder=\"Enter IBAN\"\n        />\n        {validationState === 'is-invalid' && <div className=\"invalid-feedback\">Invalid IBAN.</div>}\n      </div>\n      <div className=\"mb-3\">\n        <label htmlFor=\"sumField\" className=\"form-label\">Sum</label>\n        <input \n          type=\"number\" \n          className=\"form-control\"\n          id=\"sumField\"\n          value={sum}\n          onChange={(e) => setSum(e.target.value)}\n          placeholder=\"Enter Sum\"\n        />\n      </div>\n      <div className=\"mb-3\">\n        <label htmlFor=\"dueDateField\" className=\"form-label\">Due Date (DD.MM.YYYY)</label>\n        <input \n          type=\"text\" \n          className=\"form-control\"\n          id=\"dueDateField\"\n          value={dueDate}\n          onChange={(e) => setDueDate(e.target.value)}\n          placeholder=\"Enter Due Date\"\n        />\n      </div>\n      <div className=\"mb-3\">\n        <button \n          className=\"btn btn-primary\" \n          onClick={validateAndGenerateBarcode}\n        >\n          Generate Barcode\n        </button>\n      </div>\n  \n      {error && (\n        <div className=\"alert alert-danger\" role=\"alert\">\n          {error}\n        </div>\n      )}\n  \n  {barcode && (\n        <div className=\"input-group mb-3\">\n          <input \n            type=\"text\"\n            ref={barcodeRef}\n            value={barcode}\n            className=\"form-control\"\n            readOnly\n          />\n          <button \n            className=\"btn btn-outline-secondary\" \n            type=\"button\" \n            onClick={copyToClipboard}\n          >\n            Copy\n          </button>\n        </div>\n      )}\n    </div>\n  );\n  \n}\n\nexport default IbanForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}